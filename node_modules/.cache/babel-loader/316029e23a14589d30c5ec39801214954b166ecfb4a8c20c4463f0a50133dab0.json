{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CustomSelect(_ref){let{value,onChange,options,placeholder=\"Select an option\"}=_ref;const[open,setOpen]=useState(false);const[highlightIndex,setHighlightIndex]=useState(0);const containerRef=useRef(null);useEffect(()=>{const onDocClick=e=>{if(containerRef.current&&!containerRef.current.contains(e.target)){setOpen(false);}};document.addEventListener(\"mousedown\",onDocClick);return()=>document.removeEventListener(\"mousedown\",onDocClick);},[]);const selectedOption=options.find(o=>o.value===value);const openMenu=()=>{setOpen(prev=>!prev);if(!open){const idx=Math.max(0,options.findIndex(o=>o.value===value));setHighlightIndex(idx===-1?0:idx);}};const choose=opt=>{onChange(opt.value);setOpen(false);};const onKeyDown=e=>{if(!open&&(e.key===\"ArrowDown\"||e.key===\"ArrowUp\"||e.key===\"Enter\"||e.key===\" \")){e.preventDefault();setOpen(true);return;}if(!open)return;if(e.key===\"ArrowDown\"){e.preventDefault();setHighlightIndex(i=>(i+1)%options.length);}else if(e.key===\"ArrowUp\"){e.preventDefault();setHighlightIndex(i=>(i-1+options.length)%options.length);}else if(e.key===\"Enter\"){e.preventDefault();choose(options[highlightIndex]);}else if(e.key===\"Escape\"){setOpen(false);}};return/*#__PURE__*/_jsxs(\"div\",{ref:containerRef,className:\"custom-select \".concat(open?\"open\":\"\"),onKeyDown:onKeyDown,children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"custom-select-toggle manual-select manual-select-civilian\",\"aria-haspopup\":\"listbox\",\"aria-expanded\":open,onClick:openMenu,children:[/*#__PURE__*/_jsx(\"span\",{className:\"custom-select-label\",children:selectedOption?selectedOption.label:placeholder}),/*#__PURE__*/_jsx(\"span\",{className:\"custom-select-caret\",\"aria-hidden\":true,children:\"\\u25BE\"})]}),open&&/*#__PURE__*/_jsx(\"div\",{className:\"custom-select-menu\",role:\"listbox\",children:options.map((opt,idx)=>/*#__PURE__*/_jsx(\"div\",{role:\"option\",\"aria-selected\":value===opt.value,className:\"custom-select-option \".concat(value===opt.value?\"selected\":\"\",\" \").concat(idx===highlightIndex?\"highlight\":\"\"),onMouseEnter:()=>setHighlightIndex(idx),onClick:()=>choose(opt),children:/*#__PURE__*/_jsx(\"span\",{className:\"option-label\",children:opt.label})},opt.value))})]});}","map":{"version":3,"names":["useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","CustomSelect","_ref","value","onChange","options","placeholder","open","setOpen","highlightIndex","setHighlightIndex","containerRef","onDocClick","e","current","contains","target","document","addEventListener","removeEventListener","selectedOption","find","o","openMenu","prev","idx","Math","max","findIndex","choose","opt","onKeyDown","key","preventDefault","i","length","ref","className","concat","children","type","onClick","label","role","map","onMouseEnter"],"sources":["C:/Users/51ngh/Documents/GITHUB_Repo/Mediverse/src/components/CustomSelect.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function CustomSelect({\r\n  value,\r\n  onChange,\r\n  options,\r\n  placeholder = \"Select an option\",\r\n}) {\r\n  const [open, setOpen] = useState(false);\r\n  const [highlightIndex, setHighlightIndex] = useState(0);\r\n  const containerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const onDocClick = (e) => {\r\n      if (containerRef.current && !containerRef.current.contains(e.target)) {\r\n        setOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", onDocClick);\r\n    return () => document.removeEventListener(\"mousedown\", onDocClick);\r\n  }, []);\r\n\r\n  const selectedOption = options.find((o) => o.value === value);\r\n\r\n  const openMenu = () => {\r\n    setOpen((prev) => !prev);\r\n    if (!open) {\r\n      const idx = Math.max(\r\n        0,\r\n        options.findIndex((o) => o.value === value),\r\n      );\r\n      setHighlightIndex(idx === -1 ? 0 : idx);\r\n    }\r\n  };\r\n\r\n  const choose = (opt) => {\r\n    onChange(opt.value);\r\n    setOpen(false);\r\n  };\r\n\r\n  const onKeyDown = (e) => {\r\n    if (\r\n      !open &&\r\n      (e.key === \"ArrowDown\" ||\r\n        e.key === \"ArrowUp\" ||\r\n        e.key === \"Enter\" ||\r\n        e.key === \" \")\r\n    ) {\r\n      e.preventDefault();\r\n      setOpen(true);\r\n      return;\r\n    }\r\n    if (!open) return;\r\n    if (e.key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      setHighlightIndex((i) => (i + 1) % options.length);\r\n    } else if (e.key === \"ArrowUp\") {\r\n      e.preventDefault();\r\n      setHighlightIndex((i) => (i - 1 + options.length) % options.length);\r\n    } else if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      choose(options[highlightIndex]);\r\n    } else if (e.key === \"Escape\") {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className={`custom-select ${open ? \"open\" : \"\"}`}\r\n      onKeyDown={onKeyDown}\r\n    >\r\n      <button\r\n        type=\"button\"\r\n        className=\"custom-select-toggle manual-select manual-select-civilian\"\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={open}\r\n        onClick={openMenu}\r\n      >\r\n        <span className=\"custom-select-label\">\r\n          {selectedOption ? selectedOption.label : placeholder}\r\n        </span>\r\n        <span className=\"custom-select-caret\" aria-hidden>\r\n          â–¾\r\n        </span>\r\n      </button>\r\n\r\n      {open && (\r\n        <div className=\"custom-select-menu\" role=\"listbox\">\r\n          {options.map((opt, idx) => (\r\n            <div\r\n              key={opt.value}\r\n              role=\"option\"\r\n              aria-selected={value === opt.value}\r\n              className={`custom-select-option ${value === opt.value ? \"selected\" : \"\"} ${idx === highlightIndex ? \"highlight\" : \"\"}`}\r\n              onMouseEnter={() => setHighlightIndex(idx)}\r\n              onClick={() => choose(opt)}\r\n            >\r\n              <span className=\"option-label\">{opt.label}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}