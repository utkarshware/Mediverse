{"ast":null,"code":"const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5001\";\nexport async function identifyDevice(imageBase64) {\n  try {\n    const res = await fetch(`${API_URL}/api/gemini/analyze`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        imageBase64\n      })\n    });\n    if (!res.ok) {\n      let errorPayload;\n      try {\n        errorPayload = await res.json();\n      } catch (jsonErr) {\n        errorPayload = await res.text();\n      }\n      console.error(\"❌ API Error:\", {\n        status: res.status,\n        statusText: res.statusText,\n        body: errorPayload\n      });\n      throw new Error(`Gemini request failed: ${errorPayload && errorPayload.error || res.statusText} (status ${res.status})`);\n    }\n    return res.json();\n  } catch (err) {\n    console.error(\"❌ Detailed error:\", err);\n    throw err;\n  }\n}","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","identifyDevice","imageBase64","res","fetch","method","headers","body","JSON","stringify","ok","errorPayload","json","jsonErr","text","console","error","status","statusText","Error","err"],"sources":["C:/Users/51ngh/Documents/GITHUB_Repo/Mediverse/public/ar-med/src/api.js"],"sourcesContent":["const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5001\";\r\n\r\nexport async function identifyDevice(imageBase64) {\r\n  try {\r\n    const res = await fetch(`${API_URL}/api/gemini/analyze`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ imageBase64 }),\r\n    });\r\n\r\n    if (!res.ok) {\r\n      let errorPayload;\r\n      try {\r\n        errorPayload = await res.json();\r\n      } catch (jsonErr) {\r\n        errorPayload = await res.text();\r\n      }\r\n\r\n      console.error(\"❌ API Error:\", {\r\n        status: res.status,\r\n        statusText: res.statusText,\r\n        body: errorPayload,\r\n      });\r\n\r\n      throw new Error(\r\n        `Gemini request failed: ${\r\n          (errorPayload && errorPayload.error) || res.statusText\r\n        } (status ${res.status})`,\r\n      );\r\n    }\r\n\r\n    return res.json();\r\n  } catch (err) {\r\n    console.error(\"❌ Detailed error:\", err);\r\n    throw err;\r\n  }\r\n}\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAExE,OAAO,eAAeC,cAAcA,CAACC,WAAW,EAAE;EAChD,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGP,OAAO,qBAAqB,EAAE;MACvDQ,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEP;MAAY,CAAC;IACtC,CAAC,CAAC;IAEF,IAAI,CAACC,GAAG,CAACO,EAAE,EAAE;MACX,IAAIC,YAAY;MAChB,IAAI;QACFA,YAAY,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,CAAC;MACjC,CAAC,CAAC,OAAOC,OAAO,EAAE;QAChBF,YAAY,GAAG,MAAMR,GAAG,CAACW,IAAI,CAAC,CAAC;MACjC;MAEAC,OAAO,CAACC,KAAK,CAAC,cAAc,EAAE;QAC5BC,MAAM,EAAEd,GAAG,CAACc,MAAM;QAClBC,UAAU,EAAEf,GAAG,CAACe,UAAU;QAC1BX,IAAI,EAAEI;MACR,CAAC,CAAC;MAEF,MAAM,IAAIQ,KAAK,CACb,0BACGR,YAAY,IAAIA,YAAY,CAACK,KAAK,IAAKb,GAAG,CAACe,UAAU,YAC5Cf,GAAG,CAACc,MAAM,GACxB,CAAC;IACH;IAEA,OAAOd,GAAG,CAACS,IAAI,CAAC,CAAC;EACnB,CAAC,CAAC,OAAOQ,GAAG,EAAE;IACZL,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEI,GAAG,CAAC;IACvC,MAAMA,GAAG;EACX;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}